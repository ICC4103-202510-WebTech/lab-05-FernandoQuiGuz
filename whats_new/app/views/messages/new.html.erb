<div class="container mt-4 p-4 bg-light border rounded shadow-sm">
  <h2 class="text-primary mb-4">Send a New Message</h2>

  <%= form_with(model: @message, local: true) do |f| %>
    <% if @message.errors.any? %>
      <div class="alert alert-danger">
        <h5><%= pluralize(@message.errors.count, "error") %> </h5>
        <ul class="mb-0">
          <% @message.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-3">
      <%= f.label :chat_id, "Chat", class: 'form-label' %>
      <%= f.select :chat_id, Chat.all.collect { |c| ["Chat ##{c.id}", c.id] }, {}, class: 'form-select' %>
    </div>

    <div class="mb-3">
      <%= f.label :user_id, "Author", class: 'form-label' %>
      <%= f.select :user_id, User.all.collect { |u| [u.email, u.id] }, {}, class: 'form-select' %>
    </div>

    <div class="mb-3">
      <%= f.label :body, class: 'form-label' %>
      <%= f.text_area :body, class: 'form-control', rows: 4, placeholder: "Hi Bluey..." %>
    </div>

    <%= f.submit "Send Message", class: 'btn btn-success' %>
  <% end %>
</div>
